# orangesys-blueprint
orangesys-blueprint

# Architecture

>```
       ┌─────────────────────┐                                        
       │       telegraf      ├─┐                                      
       └─┬───────────────────┘ ├─┐                                    
         └─┬───────────────────┘ │                                    
           └─────────────────────┘                                    
                      △                                               
      https + jwt ┌───┘                                               
                  ▼                                                   
       ┌─────────────────────┐                                        
       │       traefik       │                                        
       │   (Let's Encrypt)   │                                        
       └─────────────────────┘                                        
                  │                                                   
                  ▼                                                   
       ┌─────────────────────┐           ┌─────────────┐                             
       │        kong         │◁─────────▶│   postgres  │               
       └─────────────────────┘           └─────────────┘          
                  │                               
                  └───────┐                      
                          │                     
              write only  │                     
                          │                     
         ┌────────────────┴─┬────────────────────┐                    
         │                  │                    │                    
         ▼                  ▼                    ▼                    
  ┌────────────┐     ┌─────────────┐      ┌─────────────┐             
  │  influxdb  ├─┐   │   influxdb  ├─┐    │   influxdb  ├─┐           
  └─┬──────────┘ ├─┐ └─┬───────────┘ ├─┐  └─┬───────────┘ ├─┐         
    └─┬──────────┘ │   └─┬───────────┘ │    └─┬───────────┘ │         
      └────────────┘     └─────────────┘      └─────────────┘         
             △                  △                    △
             │                  │                    │                
            ┌┘  read only       └┐                   └─┐                   
            │                    │                     │                                    
   ┌──── ───── ───── ┐    ┌──── ───── ────┐  ┌──── ───── ────┐                          
   │     Grafana     │    │    Grafana    │  │    Grafana    │                         
   └ ───── ───── ────┘    └── ───── ───── ┘  └── ───── ───── ┘                         
            │                     │                  │                
            └───────────┬─────────┴────┬─────────────┘                
                        │              △                                        
                        │              │                                        
                        │              └──────┐                      
                        ▼                     │                                                       
                   ┌──────────┐               │       ┌───────────┐             
        slack ───▶ │ alerting ├─┐             │       │  MariaDB  │             
        email      └─┬────────┘ ├─┐           └──────▶│(dashboard)│             
                     └─┬────────┘ │                   └───────────┘             
                       └──────────┘                                             
>```
